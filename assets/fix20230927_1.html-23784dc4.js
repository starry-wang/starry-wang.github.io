import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as n,e as i}from"./app-777ac455.js";const t={},s=i(`<h2 id="problem-description" tabindex="-1"><a class="header-anchor" href="#problem-description" aria-hidden="true">#</a> Problem Description</h2><h3 id="background" tabindex="-1"><a class="header-anchor" href="#background" aria-hidden="true">#</a> Background</h3><p>The goal is to configure the time zone uniformly to <code>GMT+8</code>.</p><p>The test server is located overseas, and server-side configuration is done using Docker. Initially, the time zone was not set in the Dockerfile, and the server-side Spring Boot program did not configure the time zone.</p><p>The MySQL database is configured with <code>system_time_zone</code> set to <code>CST</code>, and <code>time_zone</code> set to <code>+8:00</code>.</p><h3 id="description" tabindex="-1"><a class="header-anchor" href="#description" aria-hidden="true">#</a> Description</h3><p>There is a field called <code>detail_date</code> of type <code>date</code> in the database table. There is an SQL statement for time comparison for this field, for example:<br><code>select * from table where detail_date &gt;= #{bgn_date} and detail_date &lt;= #{end_date}</code>.</p><p>During testing, it was observed that data where <code>detail_date = bgn_date</code> was not being retrieved, and this was identified as a time zone error.</p><h2 id="solution" tabindex="-1"><a class="header-anchor" href="#solution" aria-hidden="true">#</a> Solution</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Add time zone configuration in the Dockerfile; the root cause of the problem is that the Dockerfile was not configured properly</span>
RUN <span class="token function">ln</span> <span class="token parameter variable">-sf</span> /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
RUN <span class="token builtin class-name">echo</span> <span class="token string">&#39;Asia/Shanghai&#39;</span> <span class="token operator">&gt;</span> /etc/timezone 
    
<span class="token comment"># Add time zone configuration after the jdbc connection string</span>
<span class="token operator">&amp;</span><span class="token assign-left variable">serverTimezone</span><span class="token operator">=</span>GMT%2B8 

<span class="token comment"># Configure the time zone in the program</span>
TimeZone.setDefault<span class="token punctuation">(</span>TimeZone.getTimeZone<span class="token punctuation">(</span><span class="token string">&quot;GMT+8&quot;</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="understanding-time-zones-during-research" tabindex="-1"><a class="header-anchor" href="#understanding-time-zones-during-research" aria-hidden="true">#</a> Understanding Time Zones During Research</h2><p>The following answers are from ChatGPT3.5</p><h3 id="comparison-of-cst-gmt-and-utc-time-zones" tabindex="-1"><a class="header-anchor" href="#comparison-of-cst-gmt-and-utc-time-zones" aria-hidden="true">#</a> Comparison of CST, GMT, and UTC Time Zones</h3><ol><li><p><strong>CST (Central Standard Time)</strong>:</p><ul><li>CST stands for Central Standard Time and is typically associated with the time zone of the central region of North America. This includes cities in the central United States such as Chicago, Texas, and Missouri.</li><li>CST is represented as UTC-6:00, which means it is 6 hours behind Coordinated Universal Time (UTC).</li><li>It&#39;s important to note that CST can also refer to China Standard Time, but internationally, CST is often more closely associated with Central Standard Time.</li></ul></li><li><p><strong>GMT (Greenwich Mean Time)</strong>:</p><ul><li>GMT stands for Greenwich Mean Time and is one of the earliest standard times used in the world.</li><li>GMT is based on the prime meridian at Greenwich, England, and represents the time difference relative to that meridian.</li><li>However, in practical use, GMT has been largely replaced by Coordinated Universal Time (UTC) because UTC is more precise and not affected by daylight saving time. Therefore, nowadays GMT and UTC are almost equivalent.</li></ul></li><li><p><strong>UTC (Coordinated Universal Time)</strong>:</p><ul><li>UTC stands for Coordinated Universal Time and serves as the reference time standard internationally, commonly used for global coordination of time.</li><li>UTC is measured using atomic clocks to ensure high precision. It is not affected by daylight saving time or time zone changes, making it a universal time standard.</li><li>The time difference between UTC and GMT is very small, but UTC is more widely used globally due to its greater accuracy.</li></ul></li></ol><p>Please note that different regions and countries may have different standard times and daylight saving time rules, so the exact representation of time zones may vary. When calculating time zone differences, it&#39;s best to use Coordinated Universal Time (UTC) as the reference baseline to avoid confusion and errors.</p>`,15),o=[s];function r(d,l){return a(),n("div",null,o)}const m=e(t,[["render",r],["__file","fix20230927_1.html.vue"]]);export{m as default};
